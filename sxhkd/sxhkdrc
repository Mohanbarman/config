#
# wm independent hotkeys
#

# terminal emulator
super + Return
	termite

# browser
super + b
	firefox

# file manager
super + t
	thunar

# pick color
super + p
	notify-send 'Pick a color.';\
	xcolor | xsel -b

# program launcher
super + space
	exec /home/mohan/MyScripts/menu


# make sxhkd reload its configuration files:
super + ctrl + shift + s
	notify-send 'Reloading sxhkd configuration.';\
	pkill -USR1 -x sxhkd

# reload compton
super + shift + ctrl + c
	notify-send 'Reloading compton.';\
	killall compton ; compton &

# reload polybar
super + shift + ctrl + p
	notify-send 'Reloading polybar.';\
	killall polybar ; polybar mybar &

# reload notification system
super + shift + ctrl + d
	notify-send 'Reloading notification system.';\
	killall dunst; dunst &

#
# bspwm hotkeys
#

# hide current window
super + shift + comma
    stack_file="$XDG_RUNTIME_DIR/bspwm_hidden_nodes.txt"; \
    target_node=$(bspc query -N -n focused);              \
    echo "$target_node" >>  "$stack_file";                \
    bspc node "$target_node" --flag hidden=on

# unhide the most recently hidden window
super + shift + period
    stack_file="$XDG_RUNTIME_DIR/bspwm_hidden_nodes.txt"; \
    target_node=$(tail --lines=1 "$stack_file");          \
    sed -i '$d' "$stack_file";                            \
    bspc node "$target_node" --to-desktop focused;        \
    bspc node "$target_node" --flag hidden=off

# move current node to preselected node
#super + y
#	bspc node newest.marked.local -n newest.!automatic.local

# quit/restart bspwm
super + ctrl + shift + {q,b}
	notify-send 'Restarting bspwm.';\
	bspc {quit,wm -r}

# close and kill
super + shift + q
	bspc node -{c,k}

# alternate between the tiled and monocle layout
super + shift + m
	bspc desktop -l next

# Send focused node to another workspace
super + {_,shift + }{1-9,0}
	bspc {desktop -f,window -d} ^{1-9,10}

# swap the current node and the biggest node
super + g
	bspc node -s biggest

#
# state/flags
#

# set the window state
super + shift + {t,f,p}
	bspc node -t {tiled,floating,pseudo_tiled}

# set the node flags
#super + ctrl + {m,x,y,z}
#	bspc node -g {marked,locked,sticky,private}

#
# focus/swap
#

# focus the node in the given direction
super + {h,j,k,l}
	bspc node --focus {west,south,north,east}

# focus the node for the given path jump
#super + {p,b,comma,period}
#	bspc node -f @{parent,brother,first,second}

# focus the next/previous node in the current desktop
alt + {j,k}
	bspc node -f {next,prev}.local

# focus the next/previous desktop in the current monitor
#super + bracket{left,right}
#	bspc desktop -f {prev,next}.local

# focus the last node/desktop
#super + {grave,Tab}
#	bspc {node,desktop} -f last

# focus the older or newer node in the focus history
#super + {o,i}
#	bspc wm -h off; \
#	bspc node {older,newer} -f; \
#	bspc wm -h on

# focus or send to the given desktop
super + {1-3}
	bspc desktop -f '^{1-3,3}'

#
# preselect
#

# preselect the direction
alt + ctrl + {h,j,k,l}
	bspc node -p {west,south,north,east}

# preselect the ratio
#super + ctrl + {1-9}
#	bspc node -o 0.{1-9}

# cancel the preselection for the focused node
alt + ctrl + space
	bspc node -p cancel

# cancel the preselection for the focused desktop
#super + ctrl + shift + space
#	bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

#
# move/resize
#

# changing window gap
#ctrl + {_, shift} + bracketleft
#    bspc config -d focused top_padding $((`bspc config -d focused top_padding` {+,-} 20 ))

# Change window gap
ctrl + {j,k}
    bspc config window_gap $((`bspc config window_gap` {+,-} 10 ))



# expand a window by moving one of its side outward
super + shift + {h,j,k,l}
	bspc node -z {left -20 0,bottom 0 20,top 0 -20,right 20 0}

# contract a window by moving one of its side inward
shift + alt + {h,j,k,l}
	bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}

# move a floating window
super + ctrl + {h,j,k,l}
	bspc node -v {-20 0,0 20,0 -20,20 0}

# rotate desktop
super + r
	bspc node @/ --rotate {90,-90}

# Circulate the leaves of the tree
super + {_,shift + }c
	bspc node @/ --circulate {backward,forward}

# Toogle pseudo tiling of window
super + shift + p
	bspc node --state \~pseudo_tiled

# Toggle fullscreen of window
super + f
	bspc node --state \~fullscreen

# Focus/swap windows by direction
super + alt + {h,j,k,l}
	bspc node --swap {west,south,north,east}

# flip window horzontally/vertically
super + shift + {Right,Down}
	bspc node @/ --flip {vertical,horizontal}

#
# System shortcuts
#

# Restart wifi 
super + alt + space 
	notify-send 'Restarting wifi interface..  *_*';\
	nmcli radio wifi off ; nmcli radio wifi on

# Increase volume
XF86AudioRaiseVolume
	ponymix increase 5

# Decrease volume
XF86AudioLowerVolume
	ponymix decrease 5

# mute
#XF86AudioMute
#	volume mute
	
# Brightness
XF86MonBrightnessDown
	light -U 1 

XF86MonBrightnessUp
	light -A 1
 
# screenshot
Print 
	scrot '%Y-%m-%d_$wx$h.png' -e 'mv $f ~/Screenshots/'

# power
XF86Sleep
	i3lock -i /home/mohan/Downloads/walls/filtered-lock.png 

